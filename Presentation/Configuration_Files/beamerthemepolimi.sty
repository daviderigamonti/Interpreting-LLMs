% Pasquale Africa <pasqualeclaudio.africa@polimi.it>
% Beamer port of the official PoliMi presentation theme.

\mode<all>

\newif\if@bgphoto
\@bgphotofalse
\DeclareOption{bgphoto}{\@bgphototrue}

\newif\if@nologo
\@nologofalse
\DeclareOption{nologo}{\@nologotrue}
\ProcessOptions

\RequirePackage{tikz}
\usetikzlibrary{calc}
\graphicspath{{Images/}{Images/Template/}}

\RequirePackage{etoolbox} % \patchcmd

\RequirePackage[absolute,overlay]{textpos}

\RequirePackage{ragged2e}

\usepackage{Configuration_Files/beamerinnerthemepolimi}
\usepackage{Configuration_Files/beamerouterthemepolimi}
\usepackage{Configuration_Files/beamercolorthemepolimi}

\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{blocks}[rounded][shadow=true]
\setbeamertemplate{itemize items}[square]
\setbeamertemplate{itemize subitem}[triangle]

% Set margins.
\setbeamersize{text margin left=\xshift, text margin right=\xshift}
\setlength{\leftmargini}{\xshift}

\let\oldtoc\tableofcontents
\renewcommand{\tableofcontents}[1][]{%
    \hspace*{0.5\xshift}
    \begin{minipage}{\textwidth}
        \oldtoc[#1]
    \end{minipage}
}

% Additional title entries
\newcommand*{\@advisor}{}
\newcommand*{\advisor}[1]{\def\@advisor{#1}}
\newcommand*{\@coadvisors}{}
\newcommand*{\coadvisors}[1]{\def\@coadvisors{#1}}